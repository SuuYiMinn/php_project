(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[20105],{24789:e=>{var n,t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},n],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="0399d1e5d3138c8784dabc45eac4492b",e.exports=t},101789:(e,n,t)=>{t.d(n,{Z:()=>s});var i=t(667294),r=t(883119),a=t(536042),l=t(785893);function s({children:e,heading:n}){const[t,s]=(0,i.useState)(!1),o=(0,a.ZP)();return(0,l.jsxs)(r.kC,{direction:"column",dataTestId:"collapsible-layout",children:[(0,l.jsxs)(r.X6,{align:"start",size:"400",accessibilityLevel:2,children:[(0,l.jsx)(r.xu,{"data-test-id":"collapsible-layout-heading",display:"inlineBlock",children:n}),(0,l.jsx)(r.xu,{"data-test-id":"collapse-button",display:"inlineBlock",marginStart:1,children:(0,l.jsx)(r.hU,{accessibilityLabel:o._('Show more details drop-down', 'Closeup.common.CollapsibleLayout', 'Collapse the content wrapped in the layout'),icon:t?"arrow-forward":"arrow-down",onClick:()=>{s(!t)},size:"md"})})]}),!t&&(0,l.jsx)(i.Fragment,{children:e})]})}},342693:(e,n,t)=>{t.d(n,{n:()=>i});const i="300"},44081:(e,n,t)=>{t.d(n,{Z:()=>o});var i=t(667294),r=t(883119),a=t(342693),l=t(536042),s=t(785893);function o({children:e,maxLines:n=10}){const t=(0,i.useRef)(null),[o,c]=(0,i.useState)({isFirstLoad:!0,isTruncated:!1}),d=(0,l.ZP)(),{isFirstLoad:u,isTruncated:m}=o;return(0,i.useEffect)((()=>{var e;u&&t.current&&((e=t.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&c({isFirstLoad:!1,isTruncated:!0})}),[u,m]),(0,s.jsxs)(r.xu,{position:"relative","data-test-id":"truncated-text",children:[(0,s.jsx)(r.xv,{ref:t,lineClamp:u||m?n:0,inline:!0,children:e}),m&&(0,s.jsx)(r.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,s.jsxs)(r.kC,{flex:"grow",children:[(0,s.jsx)(r.xu,{display:"inlineBlock",width:"120px",height:"14px"}),(0,s.jsx)(r.xu,{"data-test-id":"more-button",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:"white"}},children:(0,s.jsx)(r.iP,{fullWidth:!1,onTap:()=>c({...o,isTruncated:!1}),children:(0,s.jsx)(r.xv,{inline:!0,size:a.n,weight:"bold",children:d._(' \u2026 more', 'closeup.TruncatedTextContent.moreLabel', 'Expand content label')})})}),(0,s.jsx)(r.xu,{display:"inlineBlock",flex:"grow",dangerouslySetInlineStyle:{__style:{background:"white"}}})]})})]})}},9507:(e,n,t)=>{t.d(n,{DW:()=>a,I:()=>r,oo:()=>i,zI:()=>l});const i=e=>{const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n&&[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]},r=.18,a=(e,n,t)=>.2126*(e/255)**2.2+.7151*(n/255)**2.2+.0721*(t/255)**2.2,l=e=>{const n=e.replace("#","");return(299*parseInt(n.substr(0,2),16)+587*parseInt(n.substr(2,2),16)+114*parseInt(n.substr(4,2),16))/1e3<155}},117651:(e,n,t)=>{function i(e){const n=Math.round(e/1e3),t=n%60;return Math.floor(n/60)+":"+(t<10?"0":"")+t}t.d(n,{Z:()=>i})},781493:(e,n,t)=>{t.d(n,{Z:()=>s});var i=t(667294),r=t(883119);const a=(0,i.createContext)();var l=t(785893);function s(e){(0,i.useContext)(a);const{alt:n,color:t,children:s,crossOrigin:o,decoding:c,elementTiming:d,fetchPriority:u,fit:m,loading:p,naturalHeight:h,naturalWidth:g,onError:_,onLoad:x,role:y,sizes:f,src:b,srcSet:v}=e;return(0,l.jsx)(r.Ee,{alt:n,color:t,crossOrigin:o,decoding:c,elementTiming:d,fetchPriority:u,fit:m,loading:p,naturalHeight:h,naturalWidth:g,onError:_,onLoad:x,role:y,sizes:f,src:b,srcSet:v,children:s})}},870243:(e,n,t)=>{t.d(n,{qE:()=>s,u_:()=>o.ZP});var i=t(883119),r=t(785893);const a=(e,n)=>{const t=null==e?void 0:e.includes("images/user/default");return Boolean(t&&n)};function l({accessibilityLabel:e,name:n,outline:t,size:l,src:s,verified:o}){return(0,r.jsx)(i.qE,{accessibilityLabel:e,name:n,outline:t,size:l,src:a(s,n)?void 0:s,verified:o})}l.displayName="Avatar";const s=l;var o=t(88622);t(550140)},448709:(e,n,t)=>{t.d(n,{Z:()=>l});var i=t(667294),r=t(497088),a=t(785893);function l({useGraphQLAdapter:e,useLegacyAdapter:n}){const t=({children:n,data:t})=>n({enabled:!0,data:e(t)}),l=({children:e,data:t})=>e({enabled:!1,data:n(t)});return function({children:e,input:n}){var s;const o=n.enabled?(0,a.jsx)(t,{data:n.data,children:e}):(0,a.jsx)(l,{data:n.data,children:e}),c=null!==(s=n.suspense)&&void 0!==s&&s.dangerouslyServerRender?i.Suspense:r.Z;return n.suspense?(0,a.jsx)(c,{fallback:n.suspense.fallback,children:o}):o}}},971869:(e,n,t)=>{t.d(n,{J$:()=>c,_3:()=>o,hy:()=>s});var i=t(702664),r=t(167912),a=t(525104);function l(e,{useGraphQLAdapter:n}){return function(t){if("deprecated"===t.type)return[t.data,null];{const i=(0,r.useFragment)(e,t.graphqlRef);return[n(i),i]}}}function s(e){const n=l(e,{useGraphQLAdapter:e=>e});return function(e){const[t]=n(e);return[t]}}function o(e,n){const{useGraphQLAdapter:t}=n;let r;switch(n.type){case"article":r=e=>n.useLegacyAdapter((0,i.useSelector)((({articles:n})=>n[e])));break;case"story":r=e=>n.useLegacyAdapter((0,i.useSelector)((({stories:n})=>n[e])));break;default:r=e=>n.useLegacyAdapter((0,a.S6)()(e))}const s=l(e,{useGraphQLAdapter:t});return function(e){return s("string"==typeof e?{type:"deprecated",data:r(e)}:{graphqlRef:e})}}function c(e,n){return o(e,{...n,useGraphQLAdapter:e=>e})}},525571:(e,n,t)=>{t.d(n,{Z:()=>r});const i=28;function r(e){if(!e)return!1;const n=new Date(e);return n.setDate(n.getDate()+i),(new Date).getTime()<n.getTime()}},624417:(e,n,t)=>{function i({embedSrc:e,embedType:n,imagesUrls:t,preferredResolution:i,excludeOriginals:r}){if(!e&&!n&&!t)return"";if("gif"===n)return e||"";if(!t)return"";if(i){const e="474x"===i&&t["474x"]||"236x"===i&&t["236x"]||t["736x"];if(e)return e}const a=Object.keys(t).reduce(((e,n)=>{try{const i=n.split("x")[0];return Number.isNaN(Number(i))?{...e,[n]:t[n]}:{...e,[i]:t[n]}}catch(i){return e}}),{}),l=Object.keys(a);r&&"orig"===l[l.length-1]&&l.pop();return a[l.pop()]||""}t.d(n,{Z:()=>i})},895200:(e,n,t)=>{function i({m:e=0,h:n=0}){let t;return t=n<=0?n:e>45?n+1:e>15?n+.5:n,{m:e,h:n,rm:n>0?0:e,rh:t}}function r(e){const n=Math.floor(e/3600);return i({m:Math.floor(e%3600/60),h:n})}t.d(n,{X:()=>i,u:()=>r})},789907:(e,n,t)=>{t.d(n,{Z:()=>r});var i=t(785893);const r=e=>{const n=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,i.jsx)("div",{"data-test-id":"rich-pin-information",...n,children:e.children||null})}},196858:(e,n,t)=>{t.d(n,{G:()=>i});const i="https://schema.org/Recipe"},643183:(e,n,t)=>{t.d(n,{Z:()=>i});const i=t(497088).Z},649715:(e,n,t)=>{function i(e){return(e||"").trim().replace(/\s+/g," ")}t.d(n,{Z:()=>i})},51536:(e,n,t)=>{t.d(n,{Z:()=>i});const i=(e,n)=>e.length>n?e.substr(0,n-3).trim()+"…":e},443601:(e,n,t)=>{t.d(n,{HM:()=>o,SU:()=>s,ZP:()=>l});var i=t(860438),r=t(98736),a=t(619277);async function l({filename:e,imgSrc:n,imageDownloadSuccessCallback:t,category:i,pinId:a,viewParameter:l,viewType:s,isUnauth:o=!1,platform:c="web",expName:d,expGroup:u},m){return"undefined"==typeof window?Promise.resolve():((0,r.My)("web.download.click",{category:i||"no_category",authType:o?"unauth":"auth",platform:c,viewType:s,expName:d,expGroup:u}),m({event_type:82,object_id_str:a,view_type:s||3,view_parameter:l||139}),n&&document?fetch(n,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((n=>{var a,l;const m=document.createElement("a");m.href=window.URL.createObjectURL(n),m.setAttribute("download",e&&e.replace(".","_")),m.style.display="none",null===(a=document.body)||void 0===a||a.appendChild(m),m.click(),null===(l=document.body)||void 0===l||l.removeChild(m),(0,r.My)("web.download.success",{category:i||"no_category",authType:o?"unauth":"auth",platform:c,viewType:s,expName:d,expGroup:u}),null==t||t()})).catch((()=>{throw(0,r.My)("web.download.failure",{category:i||"no_category",authType:o?"unauth":"auth",platform:c,viewType:s,expName:d,expGroup:u}),new Error("Download image error")})):Promise.resolve())}const s=(e,n)=>e(n).anyEnabled,o=(e,n)=>{const t=i.Z.getItem(a.rN)||0,{group:r}=e(n);if(!(!!r&&r.startsWith("enabled")))return{expName:n,expGroup:r,limitReached:!1,oldCount:t,newCount:t};const l=r.split("_").pop(),s=t>=(l?parseInt(l,10):0),o=s?t:t+1;return t!==o&&i.Z.setItem(a.rN,o),{expName:n,expGroup:r,limitReached:s,oldCount:t,newCount:o}}},768865:(e,n,t)=>{t.d(n,{IS:()=>b,Ys:()=>f,ZP:()=>A,j$:()=>w});var i,r=t(667294),a=t(167912),l=t(883119),s=t(101789),o=t(44081),c=t(536042),d=t(630089),u=t(245410),m=t(895200),p=t(789907),h=t(196858),g=t(549201),_=t(525104),x=t(785893);const y=void 0!==i?i:i=t(24789),f=({m:e,h:n,rm:t,rh:i},r,a=!1)=>e&&(!n||i<=0)?a?(0,d.nk)(r._('{{mins}}min', 'closeup.makeRecipeTimeText.minutes', 'number showing the minutes to complete a recipe'),{mins:t.toString()}):(0,d.nk)(r.ngettext('{{mins}} minute', '{{mins}} minutes', t, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:t.toString()}):n?a?(0,d.nk)(r._('{{hrs}}hr {{mins}}min', 'closeup.makeRecipeTimeText.hours', 'hrs: number showing the hours to complete a recipe, mins: number showing the minutes to complete a recipe'),{hrs:n.toString(),mins:e.toString()}):(0,d.nk)(r.ngettext('{{hrs}} hour', '{{hrs}} hours', i, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:i.toString()}):null,b=({m:e,h:n,rm:t,rh:i,i18n:r})=>e&&(!n||i<=0)?(0,d.nk)(r._('{{mins}}m', 'number showing minutes to complete a recipe', 'number showing mnutes to complete a recipe'),{mins:t.toString()}):n?(0,d.nk)(r._('{{hrs}}h {{mins}}m', 'number showing hours to complete a recipe', 'number showing hours to complete a recipe'),{hrs:n.toString(),mins:e.toString()}):null,v=(e,n)=>{const t=e&&e.length>0&&e.join(", "),i=n&&n.summary;return t&&i?`${t} • ${i}`:t||i},k=e=>e?e.reduce(((e,n)=>{var t,i;return e+(null!==(t=null===(i=n.ingredients)||void 0===i?void 0:i.length)&&void 0!==t?t:0)}),0):0,w=({displayCookTime:e,i18n:n,isShortened:t})=>f((0,m.u)(e),n,t);function j({category:e,ingredients:n,textSize:t="300",isOnePinEnabled:i}){return(0,x.jsxs)(l.xu,{marginBottom:4,children:[e&&(0,x.jsx)(l.xu,{children:(0,x.jsx)(l.xv,{weight:"bold",size:t,children:e})}),(null!=n?n:[]).map((e=>{var n,r;return(0,x.jsx)(l.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,x.jsxs)(l.xv,{size:t,children:[i?"•":""," ",e.amt||null," ",e.name]})},`${null!==(n=e.name)&&void 0!==n?n:""}-${null!==(r=e.name)&&void 0!==r?r:""}`)}))]})}const S=({categorizedIngredients:e,displayCookTime:n,image:t,ingredientCount:i,ingredientsDescription:a,name:d})=>{const m=(0,c.ZP)(),{checkExperiment:_}=(0,u.F)(),y=(0,g.ZP)(),f=_("closeup_dweb_unauth_onepin_title_and_description").anyEnabled;if(!(n?w({displayCookTime:n,i18n:m,isShortened:f}):null)&&!i&&!a)return null;const b="desktop"===y,v=m._('Ingredients', 'Closeup.PinRecipe.ingredientsLabel', 'Ingredients category heading for recipes');return(0,x.jsxs)(l.xu,{"data-test-id":"pin-recipe-container",direction:"column",display:"flex",marginTop:12,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(!f||!b)&&(0,x.jsx)(l.xu,{marginBottom:4,children:(0,x.jsx)(l.xv,{weight:"bold",align:"desktop"===y?"start":"center",children:v})}),(0,x.jsxs)(p.Z,{itemScope:!0,itemType:h.G,children:[(0,x.jsx)("meta",{content:d,itemProp:"name"}),t&&(0,x.jsx)("meta",{content:t,itemProp:"image"}),f&&b&&(0,x.jsx)(l.xu,{"data-test-id":"one-pin-layout",children:Array.isArray(e)&&e.length>0&&(0,x.jsx)(s.Z,{heading:v,children:(0,x.jsx)(o.Z,{children:e.map((({category:e,ingredients:n},t)=>{const i=`ingredient-${t}`;return(0,x.jsx)(r.Fragment,{children:(0,x.jsx)(l.xu,{marginBottom:4,children:(0,x.jsx)(j,{category:e,ingredients:n,textSize:"300",isOnePinEnabled:f})})},i)}))})})}),(!f||!b)&&Array.isArray(e)&&e.length>0&&(0,x.jsx)(l.xu,{column:12,"data-test-id":"single-column-ingredients",children:e.map((({category:e,ingredients:n},t)=>(0,x.jsx)(l.xu,{marginBottom:2,children:(0,x.jsx)(j,{category:e,ingredients:n,textSize:"300",isOnePinEnabled:f})},t)))})]})]})},T=({graphqlRef:e,checkExperiment:n})=>{const t=(0,a.useFragment)(y,e),{imageSpec_474x:i,richMetadata:r}=t,l=null==r?void 0:r.recipe,s=null==l?void 0:l.categorizedIngredients,o=k(s),c=(null==l?void 0:l.categorizedIngredients)&&v(l.diets,l.servingsSummary);return(0,x.jsx)(S,{categorizedIngredients:s,displayCookTime:null==l?void 0:l.displayCookTime,image:null==i?void 0:i.url,ingredientCount:o,ingredientsDescription:c,name:null==l?void 0:l.name,checkExperiment:n})},P=({pinId:e,checkExperiment:n})=>{var t,i;const r=(0,_.S6)()(e),a=(null==r||null===(t=r.rich_metadata)||void 0===t?void 0:t.recipe)||{},{display_cook_time:l,name:s,categorized_ingredients:o,diets:c,servings_summary:d}=a,u=k(o),m=o&&v(c,d);return(0,x.jsx)(S,{categorizedIngredients:o,displayCookTime:l,image:(null===(i=((null==r?void 0:r.images)||{})["474x"])||void 0===i?void 0:i.url)||"",ingredientCount:u,ingredientsDescription:m,name:s,checkExperiment:n})};function A({graphqlRef:e,pinId:n}){const{checkExperiment:t}=(0,u.F)();return e?(0,x.jsx)(T,{graphqlRef:e,checkExperiment:t}):(0,x.jsx)(P,{pinId:n,checkExperiment:t})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/20105-16fb58d35361c84a.mjs.map